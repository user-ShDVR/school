"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[918],{6918:function(e,r,n){n.r(r),n.d(r,{default:function(){return R}});var a=n(4942),t=n(1413),i=n(9439),o=n(2791),s=n(6005),l=n(9083),u=n(3099),d=n(7309),c=n(2995),m=n(4099),f=n(5925),h=n(1503),x=n(960),Z=n(9286),p=n(2622),g=n(6988),j=n(7615),v=n(7154),w=n(8272),C=n(1134),b=n(874),y=n(848),k=n(712),S=n(9085),F=n(184),E=(0,b.Ry)({name:(0,b.Z_)().min(1,"Full name is required").max(100),email:(0,b.Z_)().min(1,"Email address is required").email("Email Address is invalid"),role:(0,b.Z_)().min(1,"Role is required").max(100),password:(0,b.Z_)().min(1,"Password is required").min(8,"Password must be more than 8 characters").max(32,"Password must be less than 32 characters"),passwordConfirm:(0,b.Z_)().min(1,"Please confirm your password")}).refine((function(e){return e.password===e.passwordConfirm}),{path:["passwordConfirm"],message:"Passwords do not match"}),I=function(e){var r=g.ZP.useMessage(),n=(0,i.Z)(r,2),a=(n[0],n[1],j.Z.useForm()),t=(0,i.Z)(a,1)[0],u=(0,C.cI)({resolver:(0,y.F)(E)}),c=(0,k.DW)(),m=(0,i.Z)(c,2),f=m[0],h=m[1],x=h.isLoading,Z=h.isSuccess,p=h.error,b=h.isError,I=u.reset,P=u.handleSubmit,R=u.control,B=u.formState.isSubmitSuccessful;return o.useEffect((function(){Z&&(S.Am.success("User registered successfully"),e.modal()),b&&(console.log(p),Array.isArray(p.data.error)?p.data.error.forEach((function(e){return S.Am.error(e.message,{position:"top-right"})})):S.Am.error(p.data.message,{position:"top-right"}))}),[x]),o.useEffect((function(){B&&I()}),[B]),(0,F.jsxs)(j.Z,{style:{margin:"auto 0px"},scrollToFirstError:!0,onFinish:P((function(e){f(e)})),form:t,layout:"vertical",children:[(0,F.jsx)(C.Qr,{name:"name",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(j.Z.Item,{name:"name",label:"\u0418\u043c\u044f",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041e!"}],children:(0,F.jsx)(s.Z,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0424\u0418\u041e"})})})}}),(0,F.jsx)(C.Qr,{name:"email",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(j.Z.Item,{name:"email",label:"\u041f\u043e\u0447\u0442\u0430",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443!"}],children:(0,F.jsx)(s.Z,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443"})})})}}),(0,F.jsx)(C.Qr,{name:"role",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(j.Z.Item,{label:"\u0420\u043e\u043b\u044c",children:(0,F.jsx)(l.Z,{onChange:n,onBlur:a,value:t,ref:i,options:[{value:"USER",label:"\u041f\u0435\u0434\u0430\u0433\u043e\u0433"},{value:"EXPERT",label:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442"},{value:"ADMIN",label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}]})})})}}),(0,F.jsx)(C.Qr,{name:"password",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(j.Z.Item,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],hasFeedback:!0,children:(0,F.jsx)(s.Z.Password,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",iconRender:function(e){return e?(0,F.jsx)(v.Z,{}):(0,F.jsx)(w.Z,{})}})})})}}),(0,F.jsx)(C.Qr,{name:"passwordConfirm",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(j.Z.Item,{name:"confirm",label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"},function(e){var r=e.getFieldValue;return{validator:function(e,n){return n&&r("password")!==n?Promise.reject(new Error("\u042d\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")):Promise.resolve()}}}],hasFeedback:!0,children:(0,F.jsx)(s.Z.Password,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",iconRender:function(e){return e?(0,F.jsx)(v.Z,{}):(0,F.jsx)(w.Z,{})}})})})}}),(0,F.jsx)(j.Z.Item,{children:(0,F.jsx)(d.ZP,{htmlType:"submit",style:{maxWidth:"300px",minWidth:"100%"},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})},P=n(6597),R=function(e){var r=[{title:"\u0424\u0418\u041e",dataIndex:"name",key:"name",render:function(e,r){return(0,F.jsx)(s.Z,{defaultValue:e,onChange:function(e){return M(e.target.value,r.id,"name")}})}},{title:"Email",dataIndex:"email",key:"email",render:function(e,r){return(0,F.jsx)(s.Z,{defaultValue:e,onChange:function(e){return M(e.target.value,r.id,"email")}})}},{title:"\u0420\u043e\u043b\u044c",dataIndex:"role",key:"role",render:function(e,r){return(0,F.jsx)(l.Z,{defaultValue:"".concat(e),onChange:function(e){return G(e,r.id)},style:{width:120},options:[{value:"USER",label:"\u042e\u0437\u0435\u0440"},{value:"EXPERT",label:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442"},{value:"ADMIN",label:"\u0410\u0434\u043c\u0438\u043d"}]})}},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"operation",fixed:"right",width:100,render:function(e){return(0,F.jsxs)(u.Z,{size:"middle",children:[(0,F.jsx)(d.ZP,{type:"dashed",onClick:function(){return K(e.id)},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,F.jsx)(d.ZP,{type:"default",onClick:function(){return N(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}}],n=[{title:"\u0418\u043c\u044f \u0437\u0430\u0434\u0430\u0447\u0438",dataIndex:"name",key:"name"},{title:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437",dataIndex:"TaskUser",key:"predicted",render:function(e){return Object.values(e)[0]}},{title:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430",dataIndex:"TaskUser",key:"rating",render:function(e){return 0===e.rate.rating?(0,F.jsx)("p",{children:"\u041d\u0435\u0442\u0443"}):e.rate.rating}}],g=(0,o.useState)(!1),j=(0,i.Z)(g,2),v=j[0],w=j[1],C=(0,o.useState)(1),b=(0,i.Z)(C,2),y=b[0],k=b[1],S=(0,o.useState)({}),E=(0,i.Z)(S,2),R=E[0],B=E[1],q=(0,x.wv)({limit:"8",page:"".concat(y)}),A=q.data,T=q.isSuccess,z=q.refetch,Q=(0,x.kD)(),U=(0,i.Z)(Q,1)[0],_=(0,x.I1)(),D=(0,i.Z)(_,1)[0],V=(0,P.GO)(),W=(0,i.Z)(V,1)[0],M=function(e,r,n){B((function(i){return(0,t.Z)((0,t.Z)({},i),{},(0,a.Z)({},r,(0,t.Z)((0,t.Z)({},i[r]),{},(0,a.Z)({},n,e))))}))},G=function(e,r){B((function(n){return(0,t.Z)((0,t.Z)({},n),{},(0,a.Z)({},r,(0,t.Z)((0,t.Z)({},n[r]),{},{role:e})))}))},K=function(e){var r=R[e],n=r.name,a=r.email,t=r.role;U({id:e,name:n,email:a,role:t}).then((function(){B({}),z()}))},N=function(e){D({id:e}).then((function(){z()}))};return o.useEffect((function(){T&&z()}),[T]),(0,F.jsxs)("div",{style:{width:"100%",maxWidth:"1024px",height:"86vh",padding:"32px 32px",background:"#FFFFFF",borderRadius:"32px",boxShadow:"28px 0px 50.4863px rgba(0, 0, 0, 0.17)",justifyContent:"center"},children:[T?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.Z,{size:"middle",scroll:{y:500,x:"max-content"},pagination:!1,expandable:{expandedRowRender:function(e){return(0,F.jsx)(c.Z,{columns:n,dataSource:e.Tasks,pagination:!1})},defaultExpandedRowKeys:["0"]},columns:r,dataSource:A.rows,rowKey:"id"}),(0,F.jsx)(m.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:y,onChange:function(e){k(e),z()},total:T?A.count:0})]}):null,(0,F.jsxs)(f.Z.Group,{children:[(0,F.jsx)(f.Z,{icon:(0,F.jsx)(Z.Z,{}),shape:"circle",tooltip:(0,F.jsx)("div",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),onClick:function(){return w(!0)}}),(0,F.jsx)(f.Z,{icon:(0,F.jsx)(p.Z,{}),shape:"circle",tooltip:(0,F.jsx)("div",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438"}),onClick:W})]}),(0,F.jsx)(h.Z,{width:1024,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",centered:!0,open:v,footer:null,onCancel:function(){return w(!1)},children:(0,F.jsx)(I,{modal:function(){w(!1),z()}})})]})}}}]);
//# sourceMappingURL=918.abcde0a7.chunk.js.map