"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[251],{1787:function(e,t,n){n.d(t,{c:function(){return v}});var r=n(9439),s=n(7888),i=n(7309),c=n(1503),a=n(7128),o=n(8792),l=n(2266),u=n(6106),d=n(914),h=n(1082),x=n(2441),f=n(6086),p=n(9529),j=n(1087),m=n(2791),Z=n(6309),g=n(9085),y=n(3153),w=n(2177),C=n(184),k=s.Z.Meta,v=function(e){var t=e.item,n=e.refetch,v=(0,y.C)(w.dy).user,P=(0,Z.Vx)(),S=(0,r.Z)(P,2),b=S[0],E=S[1],I=E.isError,z=E.error,A=(0,Z.L0)(),F=(0,r.Z)(A,2),M=F[0],N=F[1],T=N.isError,q=N.error,D=(0,m.useState)(100),G=(0,r.Z)(D,2),L=G[0],R=G[1],U=(0,m.useState)(!1),V=(0,r.Z)(U,2),W=V[0],X=V[1],_=function(e){b({contentId:e}).then((function(){n()}))};return(0,m.useEffect)((function(){I&&g.Am.error(z.data.message,{position:"top-right"})}),[I]),(0,m.useEffect)((function(){T&&g.Am.error(q.data.message,{position:"top-right"})}),[T]),v?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(s.Z,{style:{width:240},cover:(0,C.jsx)(f.Z,{style:{fontSize:"230px",color:"#08c"}}),children:[(0,C.jsx)(k,{title:t.name}),"\u0410\u0432\u0442\u043e\u0440: ",t.users[0].name,(0,C.jsx)("br",{}),"\u041a\u0432\u043e\u0442\u0430: ",t.users.length,"/",t.workers,(0,C.jsx)("br",{}),(0,C.jsx)(i.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return X(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})]}),(0,C.jsxs)(c.Z,{width:1024,title:t.name,centered:!0,open:W,footer:null,onCancel:function(){return X(!1)},children:[(0,C.jsx)(a.Z,{}),(0,C.jsxs)("p",{children:["\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",t.users[0].name]}),(0,C.jsxs)("p",{children:["\u041a\u0432\u043e\u0442\u0430 \u043b\u044e\u0434\u0435\u0439: ",t.users.length,"/",t.workers]}),(0,C.jsxs)("p",{children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u043e\u0432: ",0==t.rating.rating?"\u041d\u0435\u0442\u0443":t.rating.rating]}),(0,C.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",(0,C.jsx)("pre",{children:t.description})]}),(0,C.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435:"}),(0,C.jsx)(o.ZP,{dataSource:t.users,renderItem:function(e,t){return(0,C.jsx)(o.ZP.Item,{children:(0,C.jsx)(o.ZP.Item.Meta,{avatar:(0,C.jsx)(l.C,{shape:"square",icon:(0,C.jsx)(p.Z,{})}),title:e.name,description:e.email})})}}),(0,C.jsxs)(u.Z,{gutter:16,justify:"space-between",children:[(0,C.jsx)(d.Z,{flex:"auto",children:t.users.length>=t.workers?(0,C.jsx)(i.ZP,{style:{width:"100%"},disabled:!0,type:"primary",onClick:function(){return _(t.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"}):(0,C.jsx)(i.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return _(t.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"})}),(0,C.jsx)(d.Z,{flex:"auto",children:"EXPERT"==v.role||"ADMIN"==v.role?(0,C.jsx)(h.Z,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0448\u0430\u0433",placement:"bottom",onConfirm:function(){return e=t.id,void M({contestId:e,rate:L}).then((function(){n()}));var e},description:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0446\u0435\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442!"}),(0,C.jsx)(x.Z,{value:L,onChange:R,min:0,max:100,formatter:function(e){return"".concat(e)}})]}),children:(0,C.jsx)(i.ZP,{style:{width:"100%"},type:"primary",children:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})}):null}),(0,C.jsx)(d.Z,{flex:"auto",children:(0,C.jsx)(j.rU,{target:"_blank",to:"http://45.12.73.150:5000/".concat(t.fileName),children:(0,C.jsx)(i.ZP,{style:{width:"100%"},type:"default",onClick:function(){return X(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"})})})]})]})]}):null}},1251:function(e,t,n){n.r(t);var r=n(9439),s=n(7615),i=n(6090),c=n(6106),a=n(914),o=n(4099),l=n(1787),u=n(6309),d=n(2791),h=n(9085),x=n(184);t.default=function(){var e=(0,d.useState)(!1),t=(0,r.Z)(e,2),n=(t[0],t[1],(0,d.useState)(1)),f=(0,r.Z)(n,2),p=f[0],j=f[1],m=s.Z.useForm(),Z=((0,r.Z)(m,1)[0],i.Z.useNotification()),g=(0,r.Z)(Z,2),y=(g[0],g[1],(0,u.Gj)({limit:"8",page:"".concat(p)})),w=y.data,C=y.isSuccess,k=y.refetch,v=y.isError,P=y.error;return d.useEffect((function(){v&&h.Am.error(P.data.message)}),[v]),(0,x.jsxs)("div",{style:{maxWidth:1024},children:[(0,x.jsx)(c.Z,{justify:"space-around",style:{width:"100%"},gutter:[16,16],children:C?w.rows.map((function(e){return(0,x.jsx)(a.Z,{style:{width:"320px"},xs:{span:16},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:6},children:(0,x.jsx)(l.c,{item:e,refetch:k},e.id)},e.name)})):null}),(0,x.jsx)(c.Z,{justify:"center",style:{marginTop:"8px"},children:(0,x.jsx)(o.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:p,onChange:function(e){j(e),k()},total:C?w.count:0})})]})}}}]);
//# sourceMappingURL=251.20454623.chunk.js.map