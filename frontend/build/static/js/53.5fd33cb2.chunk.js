"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[53],{9707:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(1413),i=n(9439),s=n(7615),a=n(6090),l=n(6988),c=n(1463),o=n(6106),d=n(914),u=n(5925),p=n(1503),m=n(6005),x=n(2441),f=n(9083),h=n(7309),j=n(4099),Z=n(7888),g=n(1082),y=n(7128),b=n(2791),v=n.p+"static/media/\u0417\u0430\u0434\u0430\u0447\u0438 \u0432\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u044b\u0435.fe9c66bc1fed46b5fa41.png",I=n.p+"static/media/\u0417\u0430\u0434\u0430\u0447\u0438 \u0438\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u044b\u0435.b1c07d8fad1cb6533668.png",w=n(6597),C=n(2995),k=n(9085),A=n(1087),S=n(184),N=Z.Z.Meta,R=[{title:"\u0424\u0418\u041e",dataIndex:"name",key:"name",render:function(e){return(0,S.jsx)("p",{children:e})}},{title:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437",dataIndex:"TaskUser",key:"predicted",render:function(e){return Object.values(e)[0]}},{title:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430",dataIndex:"TaskUser",key:"rating",render:function(e){return 0===e.rate.rating?(0,S.jsx)("p",{children:"\u041d\u0435\u0442"}):e.rate.rating}}],V=function(e){var t=e.item,n=e.refetch,r=e.user,s=(0,w.Vx)(),a=(0,i.Z)(s,2),l=a[0],c=a[1],u=c.isError,m=c.error,f=(0,w.IY)(),j=(0,i.Z)(f,1)[0],V=(0,b.useState)(!1),P=(0,i.Z)(V,2),F=P[0],T=P[1],E=(0,b.useState)(100),U=(0,i.Z)(E,2),z=U[0],L=U[1],q=function(){return"INVAR"===t.typ?(0,S.jsx)("img",{src:I}):"VAR"===t.typ?(0,S.jsx)("img",{src:v}):null};return(0,b.useEffect)((function(){u&&k.Am.error(m.data.message,{position:"top-right"})}),[u]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(Z.Z,{style:{width:240},cover:(0,S.jsx)(q,{}),children:[(0,S.jsx)(N,{title:t.name}),(0,S.jsxs)("p",{children:["\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ","INVAR"===t.typ?"\u0418\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u044b\u0439":"\u0412\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u044b\u0439"]}),(0,S.jsx)(h.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return T(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),"ADMIN"===r?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("br",{}),(0,S.jsx)("br",{}),(0,S.jsx)(g.Z,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",placement:"bottom",onConfirm:function(){return e=t.id,void j({TasksId:e}).then((function(){n()}));var e},description:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("p",{children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?"})}),children:(0,S.jsx)(h.ZP,{style:{width:"100%",color:"black"},type:"dashed",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]}):null]}),(0,S.jsxs)(p.Z,{width:1024,title:t.name,centered:!0,open:F,footer:null,onCancel:function(){return T(!1)},children:[(0,S.jsx)(y.Z,{}),(0,S.jsxs)("p",{children:["\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ","INVAR"===t.typ?"\u0418\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u044b\u0439":"\u0412\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u044b\u0439"]}),(0,S.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438: ",(0,S.jsx)("pre",{children:t.description})]}),(0,S.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435:"}),(0,S.jsx)(C.Z,{size:"small",columns:R,dataSource:t.users,rowKey:"id"}),(0,S.jsxs)(o.Z,{gutter:16,justify:"space-between",children:[(0,S.jsx)(d.Z,{flex:"auto",children:(0,S.jsx)(g.Z,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0448\u0430\u0433",placement:"bottom",onConfirm:function(){return e=t.id,void l({contentId:e,predict:z}).then((function(){n()})).catch((function(e){k.Am.error(e.data.message)}));var e},description:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0432\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0442 \u0434\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438!"}),(0,S.jsx)(x.Z,{value:z,onChange:L,min:0,max:100,formatter:function(e){return"".concat(e,"%")}})]}),children:(0,S.jsx)(h.ZP,{style:{width:"100%"},type:"primary",children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"})})}),(0,S.jsx)(d.Z,{flex:"auto"}),(0,S.jsx)(d.Z,{flex:"auto",children:(0,S.jsx)(A.rU,{target:"_blank",to:"http://45.12.73.150:5000/".concat(t.fileName),children:(0,S.jsx)(h.ZP,{style:{width:"100%"},type:"default",onClick:function(){return T(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0437\u0430\u0434\u0430\u0447\u0438"})})})]})]})]})},P=n(9286),F=n(2351),T=n(306),E=n(3153),U=n(2177),z=n(7689),L=function(){var e=(0,z.UO)().taskType,t=(0,E.C)(U.dy).user,n=(0,b.useState)(!1),Z=(0,i.Z)(n,2),g=Z[0],y=Z[1],v=(0,b.useState)(1),I=(0,i.Z)(v,2),C=I[0],A=I[1],N=s.Z.useForm(),R=(0,i.Z)(N,1)[0],L=(0,b.useState)([]),q=(0,i.Z)(L,2),O=q[0],D=q[1],M=a.Z.useNotification(),_=(0,i.Z)(M,2),G=(_[0],_[1],(0,w.IB)({limit:"8",page:"".concat(C),type:e})),B=G.data,K=G.isSuccess,W=G.refetch,Y=(0,w.NU)(),H=(0,i.Z)(Y,2),J=H[0],Q=H[1],X=Q.isSuccess,$=Q.isError,ee=Q.error;b.useEffect((function(){$&&k.Am.error(ee.data.message),X&&W()}),[$,X]);var te={beforeUpload:function(e){var t="image/png"===e.type||"image/jpeg"===e.type||"application/msword"===e.type||"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type||"application/pdf"===e.type,n=e.size/1024/1024<1;return t?!n&&(l.ZP.error("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 200 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"),c.Z.LIST_IGNORE):(l.ZP.error("\u042d\u0442\u043e\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e: .png, .jpeg, .doc, .docx, .pdf \u0444\u043e\u0440\u043c\u0430\u0442\u044b! "),c.Z.LIST_IGNORE)}};return t?(0,S.jsxs)("div",{style:{maxWidth:1024},children:[(0,S.jsxs)(o.Z,{justify:"space-around",style:{width:"100%"},gutter:[16,16],children:[K?B.rows.map((function(e){return(0,S.jsx)(d.Z,{style:{width:"320px"},xs:{span:16},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:6},children:(0,S.jsx)(V,{user:t.role,item:e,refetch:W},e.id)},e.name)})):null,"ADMIN"===t.role?(0,S.jsx)(u.Z,{icon:(0,S.jsx)(P.Z,{}),shape:"circle",tooltip:(0,S.jsx)("div",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),onClick:function(){return y(!0)}}):null,(0,S.jsx)(p.Z,{width:1024,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",centered:!0,open:g,footer:null,onCancel:function(){return y(!1)},children:(0,S.jsxs)(s.Z,{form:R,layout:"vertical",onFinish:function(e){var t,n=new FormData,r=new Date(e.stop,4,31).toUTCString();n.append("f",null===(t=O[0])||void 0===t?void 0:t.originFileObj),n.append("name",e.name),n.append("description",e.description),n.append("typ",e.typ),n.append("stop",r),J(n).then((function(){y(!1),W()})).catch((function(e){k.Am.error(e.data.message)}))},children:[(0,S.jsx)(s.Z.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438:",name:"name",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,S.jsx)(m.Z,{})}),(0,S.jsx)(s.Z.Item,{label:"\u0413\u043e\u0434 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438:",name:"stop",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,S.jsx)(x.Z,{defaultValue:2024,min:2024,max:2099})}),(0,S.jsx)(s.Z.Item,{label:"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438:",name:"typ",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,S.jsx)(f.Z,{defaultValue:"VAR",options:[{value:"INVAR",label:"\u0418\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"},{value:"VAR",label:"\u0412\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}]})}),(0,S.jsx)(s.Z.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438:",name:"description",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,S.jsx)(T.Z,{maxLength:2e3,showCount:!0,autoSize:{minRows:4,maxRows:8}})}),(0,S.jsx)(s.Z.Item,{name:"file",valuePropName:"file",getValueFromEvent:function(e){return Array.isArray(e)?e.slice(-1):e&&e.fileList.slice(-1)},label:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447\u0438",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,S.jsx)(c.Z,(0,r.Z)((0,r.Z)({},te),{},{maxCount:1,fileList:O,onChange:function(e){var t=e.fileList;return D(t)},children:(0,S.jsx)(h.ZP,{icon:(0,S.jsx)(F.Z,{}),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0437\u0430\u0434\u0430\u0447\u0438"})}))}),(0,S.jsx)(s.Z.Item,{children:(0,S.jsx)(h.ZP,{htmlType:"submit",type:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})})]}),(0,S.jsx)(o.Z,{justify:"center",style:{marginTop:"8px"},children:(0,S.jsx)(j.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:C,onChange:function(e){A(e),W()},total:K?B.count:0})})]}):null}}}]);
//# sourceMappingURL=53.5fd33cb2.chunk.js.map