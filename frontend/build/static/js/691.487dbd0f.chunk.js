"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[691],{3521:function(e,n,r){r.d(n,{c:function(){return L}});var t=r(1413),i=r(9439),s=r(7888),o=r(6090),a=r(7615),l=r(1082),c=r(7309),d=r(6988),u=r(1463),m=r(1503),p=r(6005),h=r(2441),x=r(7128),f=r(8792),j=r(2266),Z=r(6106),g=r(914),y=r(2351),v=r(9529),w=r.p+"static/media/\u041f\u0440\u043e\u0435\u043a\u0442.2b2801ddcb9d929c5b27.png",b=r(1087),I=r(2791),C=r(6309),P=r(9085),k=r(3153),F=r(2177),S=r(306),E=r(184),N=s.Z.Meta,L=function(e){var n,r,L,A,q=e.userProject,R=e.item,T=e.refetch,z=(0,k.C)(F.dy).user,D=(0,C.Vx)(),O=(0,i.Z)(D,2),V=O[0],_=O[1],M=_.isError,U=_.error,G=(0,C.L0)(),X=(0,i.Z)(G,2),B=X[0],K=X[1],W=K.isError,H=K.error,J=(0,C.KT)(),Q=(0,i.Z)(J,2),Y=Q[0],$=Q[1],ee=($.isError,$.error,o.Z.useNotification()),ne=(0,i.Z)(ee,2),re=(ne[0],ne[1],(0,C.U7)()),te=(0,i.Z)(re,1)[0],ie=(0,C.a6)(),se=(0,i.Z)(ie,1)[0],oe=(0,I.useState)(100),ae=(0,i.Z)(oe,2),le=ae[0],ce=ae[1],de=(0,I.useState)(!1),ue=(0,i.Z)(de,2),me=ue[0],pe=ue[1],he=(0,I.useState)(!1),xe=(0,i.Z)(he,2),fe=xe[0],je=xe[1],Ze=(0,I.useState)([{uid:"0",name:"".concat(R.fileName),status:"done",url:"http://31.129.96.5:5000/".concat(R.fileName),thumbUrl:"http://31.129.96.5:5000/".concat(R.fileName)}]),ge=(0,i.Z)(Ze,2),ye=ge[0],ve=ge[1],we=a.Z.useForm(),be=(0,i.Z)(we,1)[0],Ie=function(e){V({contentId:e}).then((function(){T()}))};if((0,I.useEffect)((function(){M&&P.Am.error(U.data.message,{position:"top-right"})}),[M]),(0,I.useEffect)((function(){W&&P.Am.error(H.data.message,{position:"top-right"})}),[W]),!z)return null;var Ce=function(e){return(0,E.jsx)(E.Fragment,{children:"ADMIN"===z.role&&!1===q?(0,E.jsx)(l.Z,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",placement:"bottom",onConfirm:function(){return n=e.id,void se({userId:n,contestsId:R.id}).then((function(){T()}));var n},description:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("p",{children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?"})}),children:(0,E.jsx)(c.ZP,{type:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})},e.id):null})},Pe={beforeUpload:function(e){var n="image/png"===e.type||"image/jpeg"===e.type||"application/msword"===e.type||"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type||"application/pdf"===e.type,r=e.size/1024/1024<1;return n?!r&&(d.ZP.error("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 200 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"),u.Z.LIST_IGNORE):(d.ZP.error("\u042d\u0442\u043e\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e: .png, .jpeg, .doc, .docx, .pdf \u0444\u043e\u0440\u043c\u0430\u0442\u044b! "),u.Z.LIST_IGNORE)}},ke=function(){return(0,E.jsx)(E.Fragment,{children:!0===q?(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(c.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return je(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}):null})};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{style:{width:240},cover:(0,E.jsx)("img",{src:w}),children:[(0,E.jsx)(N,{title:R.name}),"\u0410\u0432\u0442\u043e\u0440: ",null===(n=R.users[0])||void 0===n?void 0:n.name,(0,E.jsx)("br",{}),"\u041a\u0432\u043e\u0442\u0430: ",null===(r=R.users)||void 0===r?void 0:r.length,"/",R.workers,(0,E.jsx)("br",{}),(0,E.jsxs)("p",{children:["\u041e\u0446\u0435\u043d\u043a\u0430 \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u043e\u0432: ",0==R.rating.rating?"\u041d\u0435\u0442":R.rating.rating]}),(0,E.jsx)(c.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return pe(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),"ADMIN"===z.role&&!1===q?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),(0,E.jsx)(l.Z,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",placement:"bottom",onConfirm:function(){return e=R.id,void te({id:e}).then((function(){T()}));var e},description:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("p",{children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442?"})}),children:(0,E.jsx)(c.ZP,{style:{width:"100%",color:"black"},type:"dashed",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]}):null,(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),(0,E.jsx)(ke,{})]}),(0,E.jsx)(m.Z,{width:1024,title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",centered:!0,open:fe,footer:null,onCancel:function(){return je(!1)},children:(0,E.jsxs)(a.Z,{form:be,layout:"vertical",onFinish:function(e){var n,r=new FormData;r.append("f",null===(n=ye[0])||void 0===n?void 0:n.originFileObj),r.append("id",R.id),r.append("name",e.name),r.append("description",e.description),r.append("workers",e.workers),Y(r).then((function(){je(!1),T()})).catch((function(e){P.Am.error(e.data.message)}))},children:[(0,E.jsx)(a.Z.Item,{initialValue:R.name,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:",name:"name",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,E.jsx)(p.Z,{})}),(0,E.jsx)(a.Z.Item,{initialValue:R.workers,label:"\u041a\u0432\u043e\u0442\u0430:",name:"workers",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,E.jsx)(h.Z,{min:1,max:100,formatter:function(e){return"0/".concat(e)}})}),(0,E.jsx)(a.Z.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:",name:"description",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],initialValue:R.description,children:(0,E.jsx)(S.Z,{autoSize:{minRows:4,maxRows:8},maxLength:2e3,showCount:!0})}),(0,E.jsx)(a.Z.Item,{name:"file",valuePropName:"file",getValueFromEvent:function(e){return Array.isArray(e)?e.slice(-1):e&&e.fileList.slice(-1)},label:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,E.jsx)(u.Z,(0,t.Z)((0,t.Z)({},Pe),{},{maxCount:1,fileList:ye,onChange:function(e){var n=e.fileList;return ve(n)},children:(0,E.jsx)(c.ZP,{icon:(0,E.jsx)(y.Z,{}),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"})}))}),(0,E.jsx)(a.Z.Item,{children:(0,E.jsx)(c.ZP,{htmlType:"submit",type:"primary",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})}),(0,E.jsxs)(m.Z,{width:1024,title:R.name,centered:!0,open:me,footer:null,onCancel:function(){return pe(!1)},children:[(0,E.jsx)(x.Z,{}),(0,E.jsxs)("p",{children:["\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",null===(L=R.users[0])||void 0===L?void 0:L.name]}),(0,E.jsxs)("p",{children:["\u041a\u0432\u043e\u0442\u0430 \u043b\u044e\u0434\u0435\u0439: ",null===(A=R.users)||void 0===A?void 0:A.length,"/",R.workers]}),(0,E.jsxs)("p",{children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u043e\u0432: ",0==R.rating.rating?"\u041d\u0435\u0442":R.rating.rating]}),(0,E.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",(0,E.jsx)("pre",{children:R.description})]}),(0,E.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435:"}),(0,E.jsx)(f.ZP,{dataSource:null===R||void 0===R?void 0:R.users,renderItem:function(e,n){return(0,E.jsx)(f.ZP.Item,{actions:[(0,E.jsx)(Ce,{id:e.id})],children:(0,E.jsx)(f.ZP.Item.Meta,{avatar:(0,E.jsx)(j.C,{shape:"square",icon:(0,E.jsx)(v.Z,{})}),title:e.name,description:e.email})})}}),(0,E.jsxs)(Z.Z,{gutter:16,justify:"space-between",children:[(0,E.jsx)(g.Z,{flex:"auto",children:R.users.length>=R.workers?(0,E.jsx)(c.ZP,{style:{width:"100%"},disabled:!0,type:"primary",onClick:function(){return Ie(R.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"}):(0,E.jsx)(c.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return Ie(R.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"})}),(0,E.jsx)(g.Z,{flex:"auto",children:"EXPERT"==z.role&&0==q||"ADMIN"==z.role&&0==q?(0,E.jsx)(l.Z,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0448\u0430\u0433",placement:"bottom",onConfirm:function(){return e=R.id,void B({contestId:e,rate:le}).then((function(){T()}));var e},description:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0446\u0435\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442!"}),(0,E.jsx)(h.Z,{value:le,onChange:ce,min:0,max:100,formatter:function(e){return"".concat(e)}})]}),children:(0,E.jsx)(c.ZP,{style:{width:"100%"},type:"primary",children:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})}):null}),(0,E.jsx)(g.Z,{flex:"auto",children:(0,E.jsx)(b.rU,{target:"_blank",to:"http://31.129.96.5:5000/".concat(R.fileName),children:(0,E.jsx)(c.ZP,{style:{width:"100%"},type:"default",onClick:function(){return pe(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"})})})]})]})]})}},539:function(e,n,r){r.r(n);var t=r(1413),i=r(9439),s=r(7615),o=r(6090),a=r(6988),l=r(1463),c=r(6106),d=r(914),u=r(5925),m=r(1503),p=r(6005),h=r(2441),x=r(7309),f=r(4099),j=r(3521),Z=r(6309),g=r(9286),y=r(2351),v=r(2791),w=r(306),b=r(9085),I=r(184);n.default=function(){var e=(0,v.useState)(!1),n=(0,i.Z)(e,2),r=n[0],C=n[1],P=(0,v.useState)(1),k=(0,i.Z)(P,2),F=k[0],S=k[1],E=(0,v.useState)([]),N=(0,i.Z)(E,2),L=N[0],A=N[1],q=s.Z.useForm(),R=(0,i.Z)(q,1)[0],T=o.Z.useNotification(),z=(0,i.Z)(T,2),D=(z[0],z[1],(0,Z._X)({limit:"8",page:"".concat(F)})),O=D.data,V=D.isSuccess,_=D.refetch,M=(0,Z.BD)(),U=(0,i.Z)(M,2),G=U[0],X=U[1],B=X.isError,K=X.error;v.useEffect((function(){B&&b.Am.error(K.data.message),V&&_()}),[B,V]);var W={beforeUpload:function(e){var n="image/png"===e.type||"image/jpeg"===e.type||"application/msword"===e.type||"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type||"application/pdf"===e.type,r=e.size/1024/1024<1;return n?!r&&(a.ZP.error("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 200 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"),l.Z.LIST_IGNORE):(a.ZP.error("\u042d\u0442\u043e\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e: .png, .jpeg, .doc, .docx, .pdf \u0444\u043e\u0440\u043c\u0430\u0442\u044b! "),l.Z.LIST_IGNORE)}};return(0,I.jsxs)("div",{style:{maxWidth:1024},children:[(0,I.jsxs)(c.Z,{justify:"space-around",style:{width:"100%"},gutter:[16,16],children:[V?O.rows.map((function(e){return(0,I.jsx)(d.Z,{style:{width:"320px"},xs:{span:16},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:6},children:(0,I.jsx)(j.c,{userProject:!1,item:e,refetch:_},e.id)},e.name)})):null,(0,I.jsx)(u.Z,{icon:(0,I.jsx)(g.Z,{}),shape:"circle",tooltip:(0,I.jsx)("div",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"}),onClick:function(){return C(!0)}}),(0,I.jsx)(m.Z,{width:1024,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",centered:!0,open:r,footer:null,onCancel:function(){return C(!1)},children:(0,I.jsxs)(s.Z,{form:R,layout:"vertical",onFinish:function(e){var n,r=new FormData;r.append("f",null===(n=L[0])||void 0===n?void 0:n.originFileObj),r.append("name",e.name),r.append("description",e.description),r.append("workers",e.workers),G(r).then((function(){C(!1),_()})).catch((function(e){b.Am.error(e.data.message)}))},children:[(0,I.jsx)(s.Z.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:",name:"name",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,I.jsx)(p.Z,{})}),(0,I.jsx)(s.Z.Item,{label:"\u041a\u0432\u043e\u0442\u0430:",name:"workers",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,I.jsx)(h.Z,{min:1,max:100,formatter:function(e){return"0/".concat(e)}})}),(0,I.jsx)(s.Z.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:",name:"description",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,I.jsx)(w.Z,{autoSize:{minRows:4,maxRows:8},maxLength:2e3,showCount:!0})}),(0,I.jsx)(s.Z.Item,{name:"file",valuePropName:"file",getValueFromEvent:function(e){return Array.isArray(e)?e.slice(-1):e&&e.fileList.slice(-1)},label:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,I.jsx)(l.Z,(0,t.Z)((0,t.Z)({},W),{},{maxCount:1,fileList:L,onChange:function(e){var n=e.fileList;return A(n)},children:(0,I.jsx)(x.ZP,{icon:(0,I.jsx)(y.Z,{}),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"})}))}),(0,I.jsx)(s.Z.Item,{children:(0,I.jsx)(x.ZP,{htmlType:"submit",type:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})})]}),(0,I.jsx)(c.Z,{justify:"center",style:{marginTop:"8px"},children:(0,I.jsx)(f.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:F,onChange:function(e){S(e),_()},total:V?O.count:0})})]})}}}]);
//# sourceMappingURL=691.487dbd0f.chunk.js.map