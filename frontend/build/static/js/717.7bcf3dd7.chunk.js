"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[717],{3521:function(e,n,t){t.d(n,{c:function(){return C}});var r=t(9439),i=t(7888),s=t(1082),o=t(7309),c=t(1503),l=t(7128),d=t(8792),a=t(2266),u=t(6106),h=t(914),x=t(2441),f=t(9529),j=t.p+"static/media/\u041f\u0440\u043e\u0435\u043a\u0442.2b2801ddcb9d929c5b27.png",p=t(1087),m=t(2791),Z=t(6309),g=t(9085),y=t(3153),v=t(2177),w=t(184),b=i.Z.Meta,C=function(e){var n,t,C,k,P=e.item,I=e.refetch,S=(0,y.C)(v.dy).user,E=(0,Z.Vx)(),F=(0,r.Z)(E,2),A=F[0],M=F[1],N=M.isError,z=M.error,D=(0,Z.L0)(),T=(0,r.Z)(D,2),U=T[0],q=T[1],G=q.isError,L=q.error,R=(0,Z.U7)(),V=(0,r.Z)(R,1)[0],W=(0,Z.a6)(),X=(0,r.Z)(W,1)[0],_=(0,m.useState)(100),B=(0,r.Z)(_,2),H=B[0],J=B[1],K=(0,m.useState)(!1),O=(0,r.Z)(K,2),Q=O[0],Y=O[1],$=function(e){A({contentId:e}).then((function(){I()}))};if((0,m.useEffect)((function(){N&&g.Am.error(z.data.message,{position:"top-right"})}),[N]),(0,m.useEffect)((function(){G&&g.Am.error(L.data.message,{position:"top-right"})}),[G]),!S)return null;var ee=function(e){return(0,w.jsx)(w.Fragment,{children:"ADMIN"===S.role?(0,w.jsx)(s.Z,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",placement:"bottom",onConfirm:function(){return n=e.id,void X({userId:n,contestsId:P.id}).then((function(){I()}));var n},description:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("p",{children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?"})}),children:(0,w.jsx)(o.ZP,{type:"link",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})},e.id):null})};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(i.Z,{style:{width:240},cover:(0,w.jsx)("img",{src:j}),children:[(0,w.jsx)(b,{title:P.name}),"\u0410\u0432\u0442\u043e\u0440: ",null===(n=P.users[0])||void 0===n?void 0:n.name,(0,w.jsx)("br",{}),"\u041a\u0432\u043e\u0442\u0430: ",null===(t=P.users)||void 0===t?void 0:t.length,"/",P.workers,(0,w.jsx)("br",{}),(0,w.jsx)(o.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return Y(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),"ADMIN"===S.role?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),(0,w.jsx)(s.Z,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",placement:"bottom",onConfirm:function(){return e=P.id,void V({id:e}).then((function(){I()}));var e},description:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("p",{children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442?"})}),children:(0,w.jsx)(o.ZP,{style:{width:"100%",color:"black"},type:"dashed",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]}):null]}),(0,w.jsxs)(c.Z,{width:1024,title:P.name,centered:!0,open:Q,footer:null,onCancel:function(){return Y(!1)},children:[(0,w.jsx)(l.Z,{}),(0,w.jsxs)("p",{children:["\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",null===(C=P.users[0])||void 0===C?void 0:C.name]}),(0,w.jsxs)("p",{children:["\u041a\u0432\u043e\u0442\u0430 \u043b\u044e\u0434\u0435\u0439: ",null===(k=P.users)||void 0===k?void 0:k.length,"/",P.workers]}),(0,w.jsxs)("p",{children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u043e\u0432: ",0==P.rating.rating?"\u041d\u0435\u0442\u0443":P.rating.rating]}),(0,w.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",(0,w.jsx)("pre",{children:P.description})]}),(0,w.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435:"}),(0,w.jsx)(d.ZP,{dataSource:null===P||void 0===P?void 0:P.users,renderItem:function(e,n){return(0,w.jsx)(d.ZP.Item,{actions:[(0,w.jsx)(ee,{id:e.id})],children:(0,w.jsx)(d.ZP.Item.Meta,{avatar:(0,w.jsx)(a.C,{shape:"square",icon:(0,w.jsx)(f.Z,{})}),title:e.name,description:e.email})})}}),(0,w.jsxs)(u.Z,{gutter:16,justify:"space-between",children:[(0,w.jsx)(h.Z,{flex:"auto",children:P.users.length>=P.workers?(0,w.jsx)(o.ZP,{style:{width:"100%"},disabled:!0,type:"primary",onClick:function(){return $(P.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"}):(0,w.jsx)(o.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return $(P.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"})}),(0,w.jsx)(h.Z,{flex:"auto",children:"EXPERT"==S.role||"ADMIN"==S.role?(0,w.jsx)(s.Z,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0448\u0430\u0433",placement:"bottom",onConfirm:function(){return e=P.id,void U({contestId:e,rate:H}).then((function(){I()}));var e},description:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0446\u0435\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442!"}),(0,w.jsx)(x.Z,{value:H,onChange:J,min:0,max:100,formatter:function(e){return"".concat(e)}})]}),children:(0,w.jsx)(o.ZP,{style:{width:"100%"},type:"primary",children:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})}):null}),(0,w.jsx)(h.Z,{flex:"auto",children:(0,w.jsx)(p.rU,{target:"_blank",to:"http://45.12.73.150:5000/".concat(P.fileName),children:(0,w.jsx)(o.ZP,{style:{width:"100%"},type:"default",onClick:function(){return Y(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"})})})]})]})]})}},1251:function(e,n,t){t.r(n);var r=t(9439),i=t(7615),s=t(6090),o=t(6106),c=t(914),l=t(4099),d=t(3521),a=t(6309),u=t(2791),h=t(9085),x=t(184);n.default=function(){var e=(0,u.useState)(!1),n=(0,r.Z)(e,2),t=(n[0],n[1],(0,u.useState)(1)),f=(0,r.Z)(t,2),j=f[0],p=f[1],m=i.Z.useForm(),Z=((0,r.Z)(m,1)[0],s.Z.useNotification()),g=(0,r.Z)(Z,2),y=(g[0],g[1],(0,a.Gj)({limit:"8",page:"".concat(j)})),v=y.data,w=y.isSuccess,b=y.refetch,C=y.isError,k=y.error;return u.useEffect((function(){C&&h.Am.error(k.data.message)}),[C]),(0,x.jsxs)("div",{style:{maxWidth:1024},children:[(0,x.jsx)(o.Z,{justify:"space-around",style:{width:"100%"},gutter:[16,16],children:w?v.rows.map((function(e){return(0,x.jsx)(c.Z,{style:{width:"320px"},xs:{span:16},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:6},children:(0,x.jsx)(d.c,{item:e,refetch:b},e.id)},e.name)})):null}),(0,x.jsx)(o.Z,{justify:"center",style:{marginTop:"8px"},children:(0,x.jsx)(l.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:j,onChange:function(e){p(e),b()},total:w?v.count:0})})]})}}}]);
//# sourceMappingURL=717.7bcf3dd7.chunk.js.map