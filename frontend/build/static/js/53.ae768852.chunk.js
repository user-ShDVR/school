"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[53],{9707:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(1413),i=t(9439),s=t(7615),a=t(6090),l=t(6988),c=t(860),o=t(6106),d=t(914),u=t(5925),p=t(1503),m=t(6005),x=t(2441),h=t(9083),f=t(7309),j=t(4099),Z=t(7888),g=t(1082),y=t(7128),b=t(2791),v=t.p+"static/media/\u0417\u0430\u0434\u0430\u0447\u0438 \u0432\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u044b\u0435.fe9c66bc1fed46b5fa41.png",w=t.p+"static/media/\u0417\u0430\u0434\u0430\u0447\u0438 \u0438\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u044b\u0435.b1c07d8fad1cb6533668.png",I=t(6597),C=t(2995),k=t(9085),S=t(1087),A=t(184),N=Z.Z.Meta,R=[{title:"\u0424\u0418\u041e",dataIndex:"name",key:"name",render:function(e){return(0,A.jsx)("p",{children:e})}},{title:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437",dataIndex:"TaskUser",key:"predicted",render:function(e){return Object.values(e)[0]}},{title:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430",dataIndex:"TaskUser",key:"rating",render:function(e){return 0===e.rate.rating?(0,A.jsx)("p",{children:"\u041d\u0435\u0442"}):e.rate.rating}}],V=function(e){var n=e.item,t=e.refetch,r=e.user,s=(0,I.Vx)(),a=(0,i.Z)(s,2),l=a[0],c=a[1],u=(c.isError,c.error,(0,I.IY)()),m=(0,i.Z)(u,1)[0],h=(0,b.useState)(!1),j=(0,i.Z)(h,2),V=j[0],F=j[1],P=(0,b.useState)(100),T=(0,i.Z)(P,2),z=T[0],E=T[1],L=function(){return"INVAR"===n.typ?(0,A.jsx)("img",{src:w}):"VAR"===n.typ?(0,A.jsx)("img",{src:v}):null},U=new Date(n.stop);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(Z.Z,{style:{width:240},cover:(0,A.jsx)(L,{}),children:[(0,A.jsx)(N,{title:n.name}),(0,A.jsxs)("p",{children:["\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ","INVAR"===n.typ?"\u0418\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u044b\u0439":"\u0412\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u044b\u0439"]}),(0,A.jsx)(f.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return F(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),"ADMIN"===r?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("br",{}),(0,A.jsx)("br",{}),(0,A.jsx)(g.Z,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",placement:"bottom",onConfirm:function(){return e=n.id,void m({TasksId:e}).then((function(){t()}));var e},description:(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("p",{children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443?"})}),children:(0,A.jsx)(f.ZP,{style:{width:"100%",color:"black"},type:"dashed",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]}):null]}),(0,A.jsxs)(p.Z,{width:1024,title:n.name,centered:!0,open:V,footer:null,onCancel:function(){return F(!1)},children:[(0,A.jsx)(y.Z,{}),(0,A.jsxs)("p",{children:["\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438: ","INVAR"===n.typ?"\u0418\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u044b\u0439":"\u0412\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u044b\u0439"]}),(0,A.jsxs)("p",{children:["\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438: 31.05.",U.getFullYear()]}),(0,A.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438: ",(0,A.jsx)("pre",{children:n.description})]}),(0,A.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0435:"}),(0,A.jsx)(C.Z,{size:"small",columns:R,dataSource:n.users,rowKey:"id"}),(0,A.jsxs)(o.Z,{gutter:16,justify:"space-between",children:[(0,A.jsx)(d.Z,{flex:"auto",children:(0,A.jsx)(g.Z,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0448\u0430\u0433",placement:"bottom",onConfirm:function(){return e=n.id,void l({contentId:e,predict:z}).then((function(){t()})).catch((function(e){k.Am.error(e.data.message)}));var e},description:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b-\u0432\u043e \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0432\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0442 \u0434\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438!"}),(0,A.jsx)(x.Z,{value:z,onChange:E,min:0,max:100,formatter:function(e){return"".concat(e,"%")}})]}),children:(0,A.jsx)(f.ZP,{style:{width:"100%"},type:"primary",children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"})})}),(0,A.jsx)(d.Z,{flex:"auto"}),(0,A.jsx)(d.Z,{flex:"auto",children:(0,A.jsx)(S.rU,{target:"_blank",to:"http://45.12.73.150:5000/".concat(n.fileName),children:(0,A.jsx)(f.ZP,{style:{width:"100%"},type:"default",onClick:function(){return F(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0437\u0430\u0434\u0430\u0447\u0438"})})})]})]})]})},F=t(9286),P=t(2351),T=t(306),z=t(3153),E=t(2177),L=function(){var e=(0,z.C)(E.dy).user,n=(0,b.useState)(!1),t=(0,i.Z)(n,2),Z=t[0],g=t[1],y=(0,b.useState)(1),v=(0,i.Z)(y,2),w=v[0],C=v[1],S=s.Z.useForm(),N=(0,i.Z)(S,1)[0],R=(0,b.useState)([]),L=(0,i.Z)(R,2),U=L[0],q=L[1],D=a.Z.useNotification(),O=(0,i.Z)(D,2),M=(O[0],O[1],(0,I.IB)({limit:"8",page:"".concat(w)})),_=M.data,G=M.isSuccess,Y=M.refetch,B=(0,I.NU)(),K=(0,i.Z)(B,2),W=K[0],H=K[1],J=H.isSuccess,Q=H.isError,X=H.error;b.useEffect((function(){Q&&k.Am.error(X.data.message),J&&Y()}),[Q,J]);var $={beforeUpload:function(e){var n="image/png"===e.type||"image/jpeg"===e.type||"application/msword"===e.type||"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type||"application/pdf"===e.type,t=e.size/1024/1024<1;return n?!t&&(l.ZP.error("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 200 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"),c.Z.LIST_IGNORE):(l.ZP.error("\u042d\u0442\u043e\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e: .png, .jpeg, .doc, .docx, .pdf \u0444\u043e\u0440\u043c\u0430\u0442\u044b! "),c.Z.LIST_IGNORE)}};return e?(0,A.jsxs)("div",{style:{maxWidth:1024},children:[(0,A.jsxs)(o.Z,{justify:"space-around",style:{width:"100%"},gutter:[16,16],children:[G?_.rows.map((function(n){return(0,A.jsx)(d.Z,{style:{width:"320px"},xs:{span:16},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:6},children:(0,A.jsx)(V,{user:e.role,item:n,refetch:Y},n.id)},n.name)})):null,"ADMIN"===e.role?(0,A.jsx)(u.Z,{icon:(0,A.jsx)(F.Z,{}),shape:"circle",tooltip:(0,A.jsx)("div",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),onClick:function(){return g(!0)}}):null,(0,A.jsx)(p.Z,{width:1024,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",centered:!0,open:Z,footer:null,onCancel:function(){return g(!1)},children:(0,A.jsxs)(s.Z,{form:N,layout:"vertical",onFinish:function(e){var n,t=new FormData,r=new Date(e.stop,4,31).toUTCString();t.append("f",null===(n=U[0])||void 0===n?void 0:n.originFileObj),t.append("name",e.name),t.append("description",e.description),t.append("typ",e.typ),t.append("stop",r),W(t).then((function(){g(!1),Y()})).catch((function(e){k.Am.error(e.data.message)}))},children:[(0,A.jsx)(s.Z.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438:",name:"name",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,A.jsx)(m.Z,{})}),(0,A.jsx)(s.Z.Item,{label:"\u0413\u043e\u0434 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438:",name:"stop",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,A.jsx)(x.Z,{defaultValue:2024,min:2024,max:2099})}),(0,A.jsx)(s.Z.Item,{label:"\u0422\u0438\u043f \u0437\u0430\u0434\u0430\u0447\u0438:",name:"typ",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,A.jsx)(h.Z,{defaultValue:"VAR",options:[{value:"INVAR",label:"\u0418\u043d\u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"},{value:"VAR",label:"\u0412\u0430\u0440\u0438\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}]})}),(0,A.jsx)(s.Z.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438:",name:"description",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,A.jsx)(T.Z,{maxLength:2e3,showCount:!0,autoSize:{minRows:4,maxRows:8}})}),(0,A.jsx)(s.Z.Item,{name:"file",valuePropName:"file",getValueFromEvent:function(e){return Array.isArray(e)?e.slice(-1):e&&e.fileList.slice(-1)},label:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0437\u0430\u0434\u0430\u0447\u0438",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,A.jsx)(c.Z,(0,r.Z)((0,r.Z)({},$),{},{maxCount:1,fileList:U,onChange:function(e){var n=e.fileList;return q(n)},children:(0,A.jsx)(f.ZP,{icon:(0,A.jsx)(P.Z,{}),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0437\u0430\u0434\u0430\u0447\u0438"})}))}),(0,A.jsx)(s.Z.Item,{children:(0,A.jsx)(f.ZP,{htmlType:"submit",type:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})})]}),(0,A.jsx)(o.Z,{justify:"center",style:{marginTop:"8px"},children:(0,A.jsx)(j.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:w,onChange:function(e){C(e),Y()},total:G?_.count:0})})]}):null}}}]);
//# sourceMappingURL=53.ae768852.chunk.js.map