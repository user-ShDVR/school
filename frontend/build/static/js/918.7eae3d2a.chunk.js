"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[918],{6918:function(e,r,n){n.r(r),n.d(r,{default:function(){return I}});var a=n(4942),t=n(1413),i=n(9439),o=n(2791),s=n(6005),l=n(9083),u=n(3099),d=n(7309),c=n(2995),m=n(4099),f=n(5925),h=n(1503),x=n(960),Z=n(9286),g=n(6988),p=n(7615),j=n(7154),v=n(8272),w=n(1134),b=n(874),C=n(848),y=n(712),S=n(9085),k=n(184),F=(0,b.Ry)({name:(0,b.Z_)().min(1,"Full name is required").max(100),email:(0,b.Z_)().min(1,"Email address is required").email("Email Address is invalid"),role:(0,b.Z_)().min(1,"Role is required").max(100),password:(0,b.Z_)().min(1,"Password is required").min(8,"Password must be more than 8 characters").max(32,"Password must be less than 32 characters"),passwordConfirm:(0,b.Z_)().min(1,"Please confirm your password")}).refine((function(e){return e.password===e.passwordConfirm}),{path:["passwordConfirm"],message:"Passwords do not match"}),E=function(e){var r=g.ZP.useMessage(),n=(0,i.Z)(r,2),a=(n[0],n[1],p.Z.useForm()),t=(0,i.Z)(a,1)[0],u=(0,w.cI)({resolver:(0,C.F)(F)}),c=(0,y.DW)(),m=(0,i.Z)(c,2),f=m[0],h=m[1],x=h.isLoading,Z=h.isSuccess,b=h.error,E=h.isError,I=u.reset,P=u.handleSubmit,R=u.control,B=u.formState.isSubmitSuccessful;return o.useEffect((function(){Z&&(S.Am.success("User registered successfully"),e.modal()),E&&(console.log(b),Array.isArray(b.data.error)?b.data.error.forEach((function(e){return S.Am.error(e.message,{position:"top-right"})})):S.Am.error(b.data.message,{position:"top-right"}))}),[x]),o.useEffect((function(){B&&I()}),[B]),(0,k.jsxs)(p.Z,{style:{margin:"auto 0px"},scrollToFirstError:!0,onFinish:P((function(e){f(e)})),form:t,layout:"vertical",children:[(0,k.jsx)(w.Qr,{name:"name",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.Z.Item,{name:"name",label:"\u0418\u043c\u044f",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041e!"}],children:(0,k.jsx)(s.Z,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0424\u0418\u041e"})})})}}),(0,k.jsx)(w.Qr,{name:"email",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.Z.Item,{name:"email",label:"\u041f\u043e\u0447\u0442\u0430",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443!"}],children:(0,k.jsx)(s.Z,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443"})})})}}),(0,k.jsx)(w.Qr,{name:"role",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.Z.Item,{label:"\u0420\u043e\u043b\u044c",children:(0,k.jsx)(l.Z,{onChange:n,onBlur:a,value:t,ref:i,options:[{value:"USER",label:"\u041f\u0435\u0434\u0430\u0433\u043e\u0433"},{value:"EXPERT",label:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442"},{value:"ADMIN",label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}]})})})}}),(0,k.jsx)(w.Qr,{name:"password",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.Z.Item,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"}],hasFeedback:!0,children:(0,k.jsx)(s.Z.Password,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",iconRender:function(e){return e?(0,k.jsx)(j.Z,{}):(0,k.jsx)(v.Z,{})}})})})}}),(0,k.jsx)(w.Qr,{name:"passwordConfirm",control:R,render:function(e){var r=e.field,n=r.onChange,a=r.onBlur,t=r.value,i=r.ref;e.fieldState.error;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.Z.Item,{name:"confirm",label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!"},function(e){var r=e.getFieldValue;return{validator:function(e,n){return n&&r("password")!==n?Promise.reject(new Error("\u042d\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")):Promise.resolve()}}}],hasFeedback:!0,children:(0,k.jsx)(s.Z.Password,{onChange:n,onBlur:a,value:t,ref:i,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",iconRender:function(e){return e?(0,k.jsx)(j.Z,{}):(0,k.jsx)(v.Z,{})}})})})}}),(0,k.jsx)(p.Z.Item,{children:(0,k.jsx)(d.ZP,{htmlType:"submit",style:{maxWidth:"300px",minWidth:"100%"},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})},I=function(e){var r=[{title:"\u0424\u0418\u041e",dataIndex:"name",key:"name",render:function(e,r){return(0,k.jsx)(s.Z,{defaultValue:e,onChange:function(e){return _(e.target.value,r.id,"name")}})}},{title:"Email",dataIndex:"email",key:"email",render:function(e,r){return(0,k.jsx)(s.Z,{defaultValue:e,onChange:function(e){return _(e.target.value,r.id,"email")}})}},{title:"\u0420\u043e\u043b\u044c",dataIndex:"role",key:"role",render:function(e,r){return(0,k.jsx)(l.Z,{defaultValue:"".concat(e),onChange:function(e){return D(e,r.id)},style:{width:120},options:[{value:"USER",label:"\u042e\u0437\u0435\u0440"},{value:"EXPERT",label:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442"},{value:"ADMIN",label:"\u0410\u0434\u043c\u0438\u043d"}]})}},{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",key:"operation",fixed:"right",width:100,render:function(e){return(0,k.jsxs)(u.Z,{size:"middle",children:[(0,k.jsx)(d.ZP,{type:"dashed",onClick:function(){return V(e.id)},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,k.jsx)(d.ZP,{type:"default",onClick:function(){return W(e.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})}}],n=[{title:"\u0418\u043c\u044f \u0437\u0430\u0434\u0430\u0447\u0438",dataIndex:"name",key:"name"},{title:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437",dataIndex:"TaskUser",key:"predicted",render:function(e){return Object.values(e)[0]}},{title:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430",dataIndex:"TaskUser",key:"rating",render:function(e){return 0===e.rate.rating?(0,k.jsx)("p",{children:"\u041d\u0435\u0442\u0443"}):e.rate.rating}}],g=(0,o.useState)(!1),p=(0,i.Z)(g,2),j=p[0],v=p[1],w=(0,o.useState)(1),b=(0,i.Z)(w,2),C=b[0],y=b[1],S=(0,o.useState)({}),F=(0,i.Z)(S,2),I=F[0],P=F[1],R=(0,x.wv)({limit:"8",page:"".concat(C)}),B=R.data,q=R.isSuccess,A=R.refetch,T=(0,x.kD)(),z=(0,i.Z)(T,1)[0],Q=(0,x.I1)(),U=(0,i.Z)(Q,1)[0],_=function(e,r,n){P((function(i){return(0,t.Z)((0,t.Z)({},i),{},(0,a.Z)({},r,(0,t.Z)((0,t.Z)({},i[r]),{},(0,a.Z)({},n,e))))}))},D=function(e,r){P((function(n){return(0,t.Z)((0,t.Z)({},n),{},(0,a.Z)({},r,(0,t.Z)((0,t.Z)({},n[r]),{},{role:e})))}))},V=function(e){var r=I[e],n=r.name,a=r.email,t=r.role;z({id:e,name:n,email:a,role:t}).then((function(){P({}),A()}))},W=function(e){U({id:e}).then((function(){A()}))};return o.useEffect((function(){q&&A()}),[q]),(0,k.jsxs)("div",{style:{width:"100%",maxWidth:"1024px",height:"86vh",padding:"32px 32px",background:"#FFFFFF",borderRadius:"32px",boxShadow:"28px 0px 50.4863px rgba(0, 0, 0, 0.17)",justifyContent:"center"},children:[q?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.Z,{size:"middle",scroll:{y:500,x:"max-content"},pagination:!1,expandable:{expandedRowRender:function(e){return(0,k.jsx)(c.Z,{columns:n,dataSource:e.Tasks,pagination:!1})},defaultExpandedRowKeys:["0"]},columns:r,dataSource:B.rows,rowKey:"id"}),(0,k.jsx)(m.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:C,onChange:function(e){y(e),A()},total:q?B.count:0})]}):null,(0,k.jsx)(f.Z,{icon:(0,k.jsx)(Z.Z,{}),shape:"circle",tooltip:(0,k.jsx)("div",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),onClick:function(){return v(!0)}}),(0,k.jsx)(h.Z,{width:1024,title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",centered:!0,open:j,footer:null,onCancel:function(){return v(!1)},children:(0,k.jsx)(E,{modal:function(){v(!1),A()}})})]})}}}]);
//# sourceMappingURL=918.7eae3d2a.chunk.js.map