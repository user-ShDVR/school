"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[539],{1787:function(e,n,r){r.d(n,{c:function(){return k}});var t=r(9439),i=r(7888),s=r(7309),o=r(1503),a=r(7128),c=r(8792),l=r(2266),u=r(6106),d=r(914),p=r(1082),m=r(2441),h=r(6086),x=r(9529),f=r(1087),j=r(2791),Z=r(6309),g=r(9085),y=r(3153),w=r(2177),v=r(184),C=i.Z.Meta,k=function(e){var n=e.item,r=e.refetch,k=(0,y.C)(w.dy).user,b=(0,Z.Vx)(),I=(0,t.Z)(b,2),P=I[0],S=I[1],E=S.isError,A=S.error,F=(0,Z.L0)(),L=(0,t.Z)(F,2),z=L[0],N=L[1],q=N.isError,R=N.error,T=(0,j.useState)(100),_=(0,t.Z)(T,2),D=_[0],M=_[1],O=(0,j.useState)(!1),G=(0,t.Z)(O,2),U=G[0],V=G[1],X=function(e){P({contentId:e}).then((function(){r()}))};return(0,j.useEffect)((function(){E&&g.Am.error(A.data.message,{position:"top-right"})}),[E]),(0,j.useEffect)((function(){q&&g.Am.error(R.data.message,{position:"top-right"})}),[q]),k?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(i.Z,{style:{width:240},cover:(0,v.jsx)(h.Z,{style:{fontSize:"230px",color:"#08c"}}),children:[(0,v.jsx)(C,{title:n.name}),"\u0410\u0432\u0442\u043e\u0440: ",n.users[0].name,(0,v.jsx)("br",{}),"\u041a\u0432\u043e\u0442\u0430: ",n.users.length,"/",n.workers,(0,v.jsx)("br",{}),(0,v.jsx)(s.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return V(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})]}),(0,v.jsxs)(o.Z,{width:1024,title:n.name,centered:!0,open:U,footer:null,onCancel:function(){return V(!1)},children:[(0,v.jsx)(a.Z,{}),(0,v.jsxs)("p",{children:["\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",n.users[0].name]}),(0,v.jsxs)("p",{children:["\u041a\u0432\u043e\u0442\u0430 \u043b\u044e\u0434\u0435\u0439: ",n.users.length,"/",n.workers]}),(0,v.jsxs)("p",{children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u043e\u0432: ",0==n.rating.rating?"\u041d\u0435\u0442\u0443":n.rating.rating]}),(0,v.jsxs)("p",{children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",(0,v.jsx)("pre",{children:n.description})]}),(0,v.jsx)("p",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0435:"}),(0,v.jsx)(c.ZP,{dataSource:n.users,renderItem:function(e,n){return(0,v.jsx)(c.ZP.Item,{children:(0,v.jsx)(c.ZP.Item.Meta,{avatar:(0,v.jsx)(l.C,{shape:"square",icon:(0,v.jsx)(x.Z,{})}),title:e.name,description:e.email})})}}),(0,v.jsxs)(u.Z,{gutter:16,justify:"space-between",children:[(0,v.jsx)(d.Z,{flex:"auto",children:n.users.length>=n.workers?(0,v.jsx)(s.ZP,{style:{width:"100%"},disabled:!0,type:"primary",onClick:function(){return X(n.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"}):(0,v.jsx)(s.ZP,{style:{width:"100%"},type:"primary",onClick:function(){return X(n.id)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f"})}),(0,v.jsx)(d.Z,{flex:"auto",children:"EXPERT"==k.role||"ADMIN"==k.role?(0,v.jsx)(p.Z,{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0448\u0430\u0433",placement:"bottom",onConfirm:function(){return e=n.id,void z({contestId:e,rate:D}).then((function(){r()}));var e},description:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043e\u0446\u0435\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442!"}),(0,v.jsx)(m.Z,{value:D,onChange:M,min:0,max:100,formatter:function(e){return"".concat(e)}})]}),children:(0,v.jsx)(s.ZP,{style:{width:"100%"},type:"primary",children:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})}):null}),(0,v.jsx)(d.Z,{flex:"auto",children:(0,v.jsx)(f.rU,{target:"_blank",to:"http://45.12.73.150:5000/".concat(n.fileName),children:(0,v.jsx)(s.ZP,{style:{width:"100%"},type:"default",onClick:function(){return V(!0)},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"})})})]})]})]}):null}},539:function(e,n,r){r.r(n);var t=r(1413),i=r(9439),s=r(7615),o=r(6090),a=r(6988),c=r(860),l=r(6106),u=r(914),d=r(5925),p=r(1503),m=r(6005),h=r(2441),x=r(7309),f=r(4099),j=r(1787),Z=r(6309),g=r(9286),y=r(2351),w=r(2791),v=r(306),C=r(9085),k=r(184);n.default=function(){var e=(0,w.useState)(!1),n=(0,i.Z)(e,2),r=n[0],b=n[1],I=(0,w.useState)(1),P=(0,i.Z)(I,2),S=P[0],E=P[1],A=(0,w.useState)([]),F=(0,i.Z)(A,2),L=F[0],z=F[1],N=s.Z.useForm(),q=(0,i.Z)(N,1)[0],R=o.Z.useNotification(),T=(0,i.Z)(R,2),_=(T[0],T[1],(0,Z._X)({limit:"8",page:"".concat(S)})),D=_.data,M=_.isSuccess,O=_.refetch,G=(0,Z.BD)(),U=(0,i.Z)(G,2),V=U[0],X=U[1],B=X.isError,W=X.error;w.useEffect((function(){B&&C.Am.error(W.data.message),M&&O()}),[B,M]);var H={beforeUpload:function(e){var n="image/png"===e.type||"image/jpeg"===e.type||"application/msword"===e.type||"text/plain"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type||"application/pdf"===e.type,r=e.size/1024/1024<1;return n?!r&&(a.ZP.error("\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 200 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442"),c.Z.LIST_IGNORE):(a.ZP.error("\u042d\u0442\u043e\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e: .png, .jpeg, .doc, .docx, .pdf \u0444\u043e\u0440\u043c\u0430\u0442\u044b! "),c.Z.LIST_IGNORE)}};return(0,k.jsxs)("div",{style:{maxWidth:1024},children:[(0,k.jsxs)(l.Z,{justify:"space-around",style:{width:"100%"},gutter:[16,16],children:[M?D.rows.map((function(e){return(0,k.jsx)(u.Z,{style:{width:"320px"},xs:{span:16},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:6},children:(0,k.jsx)(j.c,{item:e,refetch:O},e.id)},e.name)})):null,(0,k.jsx)(d.Z,{icon:(0,k.jsx)(g.Z,{}),shape:"circle",tooltip:(0,k.jsx)("div",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"}),onClick:function(){return b(!0)}}),(0,k.jsx)(p.Z,{width:1024,title:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",centered:!0,open:r,footer:null,onCancel:function(){return b(!1)},children:(0,k.jsxs)(s.Z,{form:q,layout:"vertical",onFinish:function(e){var n,r=new FormData;r.append("f",null===(n=L[0])||void 0===n?void 0:n.originFileObj),r.append("name",e.name),r.append("description",e.description),r.append("workers",e.workers),V(r).then((function(){b(!1),O()})).catch((function(e){C.Am.error(e.data.message)}))},children:[(0,k.jsx)(s.Z.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:",name:"name",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,k.jsx)(m.Z,{})}),(0,k.jsx)(s.Z.Item,{label:"\u041a\u0432\u043e\u0442\u0430:",name:"workers",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,k.jsx)(h.Z,{min:1,max:100,formatter:function(e){return"0/".concat(e)}})}),(0,k.jsx)(s.Z.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:",name:"description",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,k.jsx)(v.Z,{autoSize:{minRows:4,maxRows:8},maxLength:2e3,showCount:!0})}),(0,k.jsx)(s.Z.Item,{name:"file",valuePropName:"file",getValueFromEvent:function(e){return Array.isArray(e)?e.slice(-1):e&&e.fileList.slice(-1)},label:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",rules:[{required:!0,message:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,k.jsx)(c.Z,(0,t.Z)((0,t.Z)({},H),{},{maxCount:1,fileList:L,onChange:function(e){var n=e.fileList;return z(n)},children:(0,k.jsx)(x.ZP,{icon:(0,k.jsx)(y.Z,{}),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"})}))}),(0,k.jsx)(s.Z.Item,{children:(0,k.jsx)(x.ZP,{htmlType:"submit",type:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})})]}),(0,k.jsx)(l.Z,{justify:"center",style:{marginTop:"8px"},children:(0,k.jsx)(f.Z,{defaultPageSize:8,pageSize:8,showSizeChanger:!1,current:S,onChange:function(e){E(e),O()},total:M?D.count:0})})]})}}}]);
//# sourceMappingURL=539.50264784.chunk.js.map